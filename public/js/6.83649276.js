(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"916e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"q-pa-md",on:{submit:function(e){return e.preventDefault(),t.submitUpdate(e)}}},[a("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[a("q-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-borders",staticStyle:{height:"300px","max-width":"300px"},attrs:{src:t.photo.url,clickable:"","img-class":"my-custom-image"}})],1),a("div",{staticClass:"q-pa-md q-gutter-md"},[a("q-input",{attrs:{label:"Title"},model:{value:t.frm.title,callback:function(e){t.$set(t.frm,"title",e)},expression:"frm.title"}}),a("q-input",{attrs:{label:"URL"},model:{value:t.frm.url,callback:function(e){t.$set(t.frm,"url",e)},expression:"frm.url"}}),a("q-input",{attrs:{label:"Thumbnail URL"},model:{value:t.frm.thumbnail_url,callback:function(e){t.$set(t.frm,"thumbnail_url",e)},expression:"frm.thumbnail_url"}})],1),a("div",{staticClass:"col-4"},[a("q-btn",{staticClass:"q-mt-md q-ml-md",attrs:{loading:t.submitting,label:"Back",color:"blue"},on:{click:function(e){return t.$router.go(-1)}}}),a("q-btn",{staticClass:"q-mt-md q-ml-md",attrs:{type:"submit",loading:t.submitting,label:"Save",color:"teal"},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-facebook")]},proxy:!0}])}),a("q-btn",{staticClass:"q-mt-md q-ml-md",attrs:{loading:t.submitting,label:"Delete",color:"red"},on:{click:t.deletePhoto},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-facebook")]},proxy:!0}])})],1)])])},i=[],o=a("758b"),l=a("2a19");const n={};var r={name:"PagePhotoView",data(){return{submitting:!1,frm:{},photo:n}},created(){this.loadData()},methods:{deletePhoto(){this.submitting=!0;const t=this.$route.params.photo_id;let e=new FormData;e.append("_method","delete"),o["a"].post(`/api/photo/${t}`,e).then((t=>{t.data.success&&(l["a"].create({type:"positive",color:"positive",timeout:1e3,position:"top",message:"Data deleted successfully"}),setTimeout((()=>{this.$router.back()}),1e3),this.submitting=!1)})).catch((function(t){console.log(t)}))},submitUpdate(){this.submitting=!0;const t=this.$route.params.photo_id;let e=new FormData;e.append("title",this.frm.title),e.append("url",this.frm.url),e.append("thumbnail_url",this.frm.thumbnail_url),e.append("_method","put"),console.log(e),o["a"].post(`/api/photo/${t}`,e).then((t=>{t.data.success&&(l["a"].create({type:"positive",color:"positive",timeout:1e3,position:"top",message:"Data saved successfully"}),this.photo=Object.assign({},this.frm),this.submitting=!1)})).catch((function(t){console.log(t)}))},loadData(){const t=this.$route.params.photo_id;o["a"].get(`/api/photo/${t}`).then((t=>{this.frm=Object.assign({},t.data),this.photo=Object.assign({},t.data)})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:"Loading failed",icon:"report_problem"})}))}}},c=r,m=a("2877"),u=a("068f"),p=a("27f9"),d=a("9c40"),h=a("e669"),b=a("714f"),f=a("eebe"),g=a.n(f),q=Object(m["a"])(c,s,i,!1,null,null,null);e["default"]=q.exports;g()(q,"components",{QImg:u["a"],QInput:p["a"],QBtn:d["a"],QSpinnerFacebook:h["a"]}),g()(q,"directives",{Ripple:b["a"]})}}]);